(function(){
  var fs;
  fs = require('fs');
  fs.wwatch_watching = {};
  fs.wwatch_dowatching = {};
  fs.wwatch_watch_timeout = {};
  fs.wwatch = function(path, callback){
    return (function(wt){
      var this$ = this;
      if (fs.wwatch_watching[path] != null) {
        return true;
      }
      fs.wwatch_watching[path] = true;
      wt[path] = false;
      return fs.watch(path, function(event, filename){
        if (wt[path] === false) {
          wt[path] = true;
          setTimeout(function(){
            wt[path] = false;
            return callback.call(this$, event, filename);
          }, 100);
        }
      });
    }.call(this, fs.wwatch_watch_timeout));
  };
  module.exports = fs;
}).call(this);
